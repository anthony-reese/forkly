(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{347:()=>{},4541:(e,s,t)=>{"use strict";t.d(s,{J:()=>o,default:()=>d});var n=t(5155),r=t(6203),l=t(2115),a=t(6104);let i=(0,l.createContext)({user:null,loading:!0}),o=()=>(0,l.useContext)(i);function d(e){let{children:s}=e,[t,o]=(0,l.useState)(null),[d,c]=(0,l.useState)(!0);return(0,l.useEffect)(()=>{let e=(0,r.hg)(a.j,e=>{o(e),c(!1)},e=>{console.error("Firebase AuthStateChanged error:",e),o(null),c(!1)});return()=>e()},[]),(0,n.jsx)(i.Provider,{value:{user:t,loading:d},children:s})}},6104:(e,s,t)=>{"use strict";t.d(s,{db:()=>d,j:()=>i,q:()=>o});var n=t(3915),r=t(6203),l=t(5317);let a=(0,n.Dk)().length?(0,n.Dk)()[0]:(0,n.Wp)({apiKey:"AIzaSyBY6tYhLSBAoWlNpTG-VzFm-qFgdiG9elE",authDomain:"forkly-da5a7.firebaseapp.com",projectId:"forkly-da5a7",storageBucket:"forkly-da5a7.firebasestorage.app",messagingSenderId:"738393752123",appId:"1:738393752123:web:9985da4d74ba5d7f1f921e"}),i=(0,r.xI)(a);window.Cypress&&(window.firebase_auth_instance=i,console.log("Firebase auth instance exposed to window for Cypress."));let o=new r.HF,d=(0,l.aU)(a)},6258:(e,s,t)=>{"use strict";t.d(s,{default:()=>j});var n=t(5155),r=t(6874),l=t.n(r),a=t(6111),i=t(2115),o=t(6203),d=t(6104),c=t(4541),h=t(8260),u=t(3915);function x(){let{user:e,loading:s}=(0,c.J)(),[t,r]=(0,i.useState)(!1),[l,x]=(0,i.useState)(!1);if(s)return(0,n.jsx)("span",{className:"text-sm text-gray-500",children:"Loading user..."});if(e){var m;let s=async()=>{try{await (0,o.CI)(d.j)}catch(e){console.error("Error signing out:",e)}};return(0,n.jsxs)("button",{onClick:()=>{s()},className:"text-sm hover:underline",children:["Sign out (",null!=(m=e.displayName)?m:e.email,")"]})}let f=async()=>{x(!0);try{await (0,o.df)(d.j,d.q),r(!1)}catch(e){if(console.error("Error during Google sign-in:",e),e instanceof u.g&&"auth/popup-closed-by-user"===e.code);else{let s=e instanceof Error?e.message:"An unknown error occurred.";h.oR.error("Sign-in failed: ".concat(s))}}finally{x(!1)}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:()=>r(!0),className:"text-sm bg-indigo-600 text-white px-3 py-1 rounded",children:"Sign in"}),(0,n.jsxs)(a.lG,{open:t,onClose:()=>r(!1),className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,n.jsx)("div",{className:"fixed inset-0 bg-black/40","aria-hidden":"true"}),(0,n.jsxs)(a.lG.Panel,{className:"relative w-80 rounded bg-white dark:bg-gray-900 p-6 shadow",children:[(0,n.jsx)(a.lG.Title,{className:"text-lg font-bold mb-4",children:"Sign in"}),(0,n.jsx)("button",{onClick:()=>{f()},className:"w-full bg-emerald-600 text-white py-2 rounded disabled:opacity-50 disabled:cursor-not-allowed",disabled:l,children:l?"Signing In...":"Sign in with Google"}),(0,n.jsx)("button",{onClick:()=>r(!1),className:"absolute top-2 right-2 text-gray-500 hover:text-gray-800","aria-label":"Close",children:"âœ•"})]})]})]})}var m=t(7208),f=t(4416),g=t(4783);function b(){let e=(0,c.J)();return(0,n.jsx)(m.EN,{as:"nav",className:"sm:hidden border-b",children:s=>{let{open:t}=s;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,n.jsx)(l(),{href:"/",className:"font-bold text-lg",children:"Forkly"}),(0,n.jsx)(m.EN.Button,{className:"p-2 rounded",children:t?(0,n.jsx)(f.A,{size:24}):(0,n.jsx)(g.A,{size:24})})]}),(0,n.jsxs)(m.EN.Panel,{className:"space-y-2 px-4 pb-4",children:[e&&(0,n.jsx)(l(),{href:"/wishlist",children:"Wishlist"}),(0,n.jsx)(x,{})]})]})}})}function j(){let e=(0,c.J)();return(0,n.jsxs)("header",{className:"flex items-center justify-between p-4 border-b",children:[(0,n.jsx)(l(),{href:"/",className:"font-bold text-lg",children:"Forkly"}),(0,n.jsxs)("nav",{className:"hidden sm:flex items-center gap-4",children:[e&&(0,n.jsx)(l(),{href:"/wishlist",className:"text-sm hover:underline",children:"Wishlist"}),(0,n.jsx)(x,{})]}),(0,n.jsx)("div",{className:"sm:hidden",children:(0,n.jsx)(b,{})})]})}},9550:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2093,23)),Promise.resolve().then(t.t.bind(t,7735,23)),Promise.resolve().then(t.bind(t,8260)),Promise.resolve().then(t.t.bind(t,347,23)),Promise.resolve().then(t.bind(t,4541)),Promise.resolve().then(t.bind(t,6258))}},e=>{var s=s=>e(e.s=s);e.O(0,[360,992,811,412,22,566,441,684,358],()=>s(9550)),_N_E=e.O()}]);