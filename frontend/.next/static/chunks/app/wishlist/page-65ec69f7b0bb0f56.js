(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[720],{4541:(e,t,a)=>{"use strict";a.d(t,{J:()=>d,default:()=>o});var r=a(5155),s=a(6203),l=a(2115),n=a(6104);let i=(0,l.createContext)({user:null,loading:!0}),d=()=>(0,l.useContext)(i);function o(e){let{children:t}=e,[a,d]=(0,l.useState)(null),[o,u]=(0,l.useState)(!0);return(0,l.useEffect)(()=>{let e=(0,s.hg)(n.j,e=>{d(e),u(!1)},e=>{console.error("Firebase AuthStateChanged error:",e),d(null),u(!1)});return()=>e()},[]),(0,r.jsx)(i.Provider,{value:{user:a,loading:o},children:t})}},6104:(e,t,a)=>{"use strict";a.d(t,{db:()=>o,j:()=>i,q:()=>d});var r=a(3915),s=a(6203),l=a(5317);let n=(0,r.Dk)().length?(0,r.Dk)()[0]:(0,r.Wp)({apiKey:"AIzaSyBY6tYhLSBAoWlNpTG-VzFm-qFgdiG9elE",authDomain:"forkly-da5a7.firebaseapp.com",projectId:"forkly-da5a7",storageBucket:"forkly-da5a7.firebasestorage.app",messagingSenderId:"738393752123",appId:"1:738393752123:web:9985da4d74ba5d7f1f921e"}),i=(0,s.xI)(n);window.Cypress&&(window.firebase_auth_instance=i,console.log("Firebase auth instance exposed to window for Cypress."));let d=new s.HF,o=(0,l.aU)(n)},7576:(e,t,a)=>{Promise.resolve().then(a.bind(a,7978))},7978:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var r=a(5155),s=a(5317),l=a(2115),n=a(6104),i=a(4541);function d(){let{user:e,loading:t}=(0,i.J)(),[a,d]=(0,l.useState)([]),[o,u]=(0,l.useState)(!0),[c,p]=(0,l.useState)(null);return((0,l.useEffect)(()=>{if(t)return;if(!e){d([]),u(!1);return}let a=e.uid,r=(0,s.rJ)(n.db,"wishlists",a,"items");u(!0),p(null);let l=(0,s.aQ)(r,e=>{d(e.docs.map(e=>e.id)),u(!1)},e=>{console.error("Error fetching wishlist:",e),p("Failed to load wishlist. Please try again."),u(!1),d([])});return()=>l()},[e,t]),t)?(0,r.jsx)("p",{className:"p-6 text-gray-500",children:"Loading user authentication..."}):e?o?(0,r.jsx)("p",{className:"p-6 text-gray-500",children:"Loading your saved restaurants..."}):c?(0,r.jsxs)("p",{className:"p-6 text-red-500",children:["Error: ",c]}):0===a.length?(0,r.jsx)("p",{className:"p-6 text-gray-700 dark:text-gray-300",children:"No saved restaurants yet."}):(0,r.jsx)("pre",{className:"p-6",children:JSON.stringify(a,null,2)}):(0,r.jsx)("p",{className:"p-6 text-gray-700 dark:text-gray-300",children:"Sign in to see your wishlist."})}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,811,412,441,684,358],()=>t(7576)),_N_E=e.O()}]);